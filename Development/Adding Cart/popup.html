<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Quick Links / Amazon Tools</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* small additions for scraper results while keeping Adding Cart look */
    .scrape-controls { margin-top: 10px; display:flex; gap:8px; }
    .scrape-controls button { flex:1; padding:8px; border-radius:6px; border:1px solid #ddd; background:#f5f5f5; cursor:pointer; }
    .scrape-results { margin-top:10px; padding:10px; border-radius:6px; background:#fafafa; display:none; color:#111; }
    .scrape-results.visible { display:block; }
    .scrape-results .stat-row { display:flex; justify-content:space-between; padding:6px 0; border-bottom:1px solid #eee; font-size:13px; }
    .mode-label { font-size:12px; color:#666; margin-bottom:8px; }
    #changeModeBtn { position:absolute; right:8px; top:8px; font-size:11px; padding:4px 6px; }
  </style>
</head>
<body>
  <div class="container">
    <button id="changeModeBtn" style="display:none;">Change mode</button>
    <div id="modeLabel" class="mode-label">Mode: (not selected)</div>

    <h1>Quick Links</h1>
    <form id="addForm">
      <input id="title" placeholder="Title (optional)" />
      <input id="quantity" type="number" min="1" value="1" style="width:80px" />
      <button id="addBtn" type="submit">Add Current</button>
    </form>

    <div class="controls">
      <button id="openAll">Add to Cart</button>
      <button id="clearAll">Clear List</button>
    </div>

    <ul id="linksList" class="links-list"></ul>

    <!-- Scraper controls (visible when in amazonScraper mode) -->
    <div class="scrape-controls" style="margin-top:12px;">
      <button id="scrapeBtn">Scrape Cart</button>
      <button id="downloadBtn" disabled>Download CSV</button>
    </div>

    <div id="scrapeResults" class="scrape-results">
      <div style="font-weight:600;margin-bottom:8px;color:#333">Scrape Results</div>
      <div class="stat-row"><span>Items Found</span><span id="itemCount">0</span></div>
      <div class="stat-row"><span>Total Quantity</span><span id="totalQty">0</span></div>
      <div class="stat-row"><span>Categories</span><span id="categoryCount">0</span></div>
      <div id="itemsPreview" style="margin-top:8px;max-height:140px;overflow:auto;"></div>
    </div>

  </div>

  <script src="popup.js"></script>
</body>
</html>
